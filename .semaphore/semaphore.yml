version: v1.0
name: Run in Docker
agent:
  machine:
    type: e1-standard-8
    os_image: ubuntu1804
global_job_config:
  prologue:
    commands:
      - 'apt update && apt install -y curl libglu1-mesa libsm-dev openjdk-8-jre-headless && curl -LO https://www.sheepit-renderfarm.com/media/applet/client-latest.php'
blocks:
  - name: Hello World
    task:
      jobs:
        - name: sheep-1
          commands:
            - java -jar client-latest.php -ui oneLine -cache-dir ./sheepcacheCPU -compute-method CPU -cores $(nproc --all) -login Foxxo -password Austinbrown1406
          parallelism: 4
      env_vars:
        - name: user_name
          value: Foxxo
        - name: user_password
          value: Austinbrown1406!
